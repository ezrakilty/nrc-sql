<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Shift</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Shift</h1>

<div class="code">
<span class="id" title="keyword">Load</span> "eztactics.v".<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Rec</span> <span class="id" title="var">LoadPath</span> "Listkit" <span class="id" title="keyword">as</span> <span class="id" title="var">Listkit</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.NthError</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.Foreach</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Term.html#"><span class="id" title="library">Term</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="shift_var" class="idref" href="#shift_var"><span class="id" title="definition">shift_var</span></a> <a id="k:1" class="idref" href="#k:1"><span class="id" title="binder">k</span></a> <a id="n:2" class="idref" href="#n:2"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Compare_dec.html#le_gt_dec"><span class="id" title="definition">le_gt_dec</span></a> <a class="idref" href="Shift.html#k:1"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#x:3"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> (<a class="idref" href="Shift.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n:2"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="Shift.html#x:3"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
Shifting De Bruijn indexes 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="shift" class="idref" href="#shift"><span class="id" title="definition">shift</span></a> <a id="k:4" class="idref" href="#k:4"><span class="id" title="binder">k</span></a> <a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> <a id="tm:6" class="idref" href="#tm:6"><span class="id" title="binder">tm</span></a> {<span class="id" title="keyword">struct</span> <span class="id" title="var">tm</span>} :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Shift.html#tm:6"><span class="id" title="variable">tm</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Term.html#TmConst"><span class="id" title="constructor">TmConst</span></a> ⇒ <a class="idref" href="Term.html#TmConst"><span class="id" title="constructor">TmConst</span></a><br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">TmVar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">x</span></a> ⇒ <a class="idref" href="Term.html#TmVar"><span class="id" title="constructor">TmVar</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span>)<br/>
| <a class="idref" href="Term.html#TmPair"><span class="id" title="constructor">TmPair</span></a> <span class="id" title="var">L</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="Term.html#TmPair"><span class="id" title="constructor">TmPair</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">L</span>) (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>)<br/>
| <a class="idref" href="Term.html#TmProj"><span class="id" title="constructor">TmProj</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#refl_equal"><span class="id" title="abbreviation">TmProj</span></a> <span class="id" title="var">b</span> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>)<br/>
| <a class="idref" href="Term.html#TmAbs"><span class="id" title="constructor">TmAbs</span></a> <span class="id" title="var">N'</span> ⇒ <a class="idref" href="Term.html#TmAbs"><span class="id" title="constructor">TmAbs</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">N'</span>)<br/>
| <a class="idref" href="Term.html#TmApp"><span class="id" title="constructor">TmApp</span></a> <span class="id" title="var">L</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="Term.html#TmApp"><span class="id" title="constructor">TmApp</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">L</span>) (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>)<br/>
| <a class="idref" href="Term.html#TmNull"><span class="id" title="constructor">TmNull</span></a> ⇒ <a class="idref" href="Term.html#TmNull"><span class="id" title="constructor">TmNull</span></a><br/>
| <a class="idref" href="Term.html#TmSingle"><span class="id" title="constructor">TmSingle</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Term.html#TmSingle"><span class="id" title="constructor">TmSingle</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span>)<br/>
| <a class="idref" href="Term.html#TmUnion"><span class="id" title="constructor">TmUnion</span></a> <span class="id" title="var">L</span> <span class="id" title="var">R</span> ⇒ <a class="idref" href="Term.html#TmUnion"><span class="id" title="constructor">TmUnion</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">L</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#"><span class="id" title="library">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#"><span class="id" title="library">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#"><span class="id" title="library">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">R</span>)<br/>
| <a class="idref" href="Term.html#TmBind"><span class="id" title="constructor">TmBind</span></a> <span class="id" title="var">M</span> <span class="id" title="var">N</span> ⇒ <a class="idref" href="Term.html#TmBind"><span class="id" title="constructor">TmBind</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">N</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">)</span></a><br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">|</span></a> <a class="idref" href="Term.html#TmIf"><span class="id" title="constructor">TmIf</span></a> <span class="id" title="var">b</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> ⇒ <a class="idref" href="Term.html#TmIf"><span class="id" title="constructor">TmIf</span></a> (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">n</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>) (<a class="idref" href="Shift.html#shift:7"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:5"><span class="id" title="variable">n</span></a> <span class="id" title="var">N</span>)<br/>
| <a class="idref" href="Term.html#TmTable"><span class="id" title="constructor">TmTable</span></a> <span class="id" title="var">ty</span> ⇒ <a class="idref" href="Term.html#TmTable"><span class="id" title="constructor">TmTable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">ty</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">end</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="unshift_var" class="idref" href="#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a id="k:9" class="idref" href="#k:9"><span class="id" title="binder">k</span></a> <a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">fun</span></a> <a id="x:11" class="idref" href="#x:11"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Compare_dec.html#le_gt_dec"><span class="id" title="definition">le_gt_dec</span></a> (<a class="idref" href="Shift.html#n:10"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#k:9"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#x:11"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> (<a class="idref" href="Shift.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Shift.html#n:10"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="Shift.html#x:11"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="unshift" class="idref" href="#unshift"><span class="id" title="definition">unshift</span></a> <a id="k:12" class="idref" href="#k:12"><span class="id" title="binder">k</span></a> <a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a> <a id="tm:14" class="idref" href="#tm:14"><span class="id" title="binder">tm</span></a> {<span class="id" title="keyword">struct</span> <span class="id" title="var">tm</span>} :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Shift.html#tm:14"><span class="id" title="variable">tm</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Term.html#TmConst"><span class="id" title="constructor">TmConst</span></a> ⇒ <a class="idref" href="Term.html#TmConst"><span class="id" title="constructor">TmConst</span></a><br/>
| <a class="idref" href="Term.html#TmVar"><span class="id" title="constructor">TmVar</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Term.html#TmVar"><span class="id" title="constructor">TmVar</span></a> (<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span>)<br/>
| <a class="idref" href="Term.html#TmPair"><span class="id" title="constructor">TmPair</span></a> <span class="id" title="var">L</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="Term.html#TmPair"><span class="id" title="constructor">TmPair</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">L</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>)<br/>
| <a class="idref" href="Term.html#TmProj"><span class="id" title="constructor">TmProj</span></a> <span class="id" title="var">b</span> <span class="id" title="var">m</span> ⇒ <a class="idref" href="Term.html#TmProj"><span class="id" title="constructor">TmProj</span></a> <span class="id" title="var">b</span> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">m</span>)<br/>
| <a class="idref" href="Term.html#TmAbs"><span class="id" title="constructor">TmAbs</span></a> <span class="id" title="var">N</span> ⇒ <a class="idref" href="Term.html#TmAbs"><span class="id" title="constructor">TmAbs</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">N</span>)<br/>
| <a class="idref" href="Term.html#TmApp"><span class="id" title="constructor">TmApp</span></a> <span class="id" title="var">L</span> <span class="id" title="var">M</span> ⇒<a class="idref" href="Term.html#TmApp"><span class="id" title="constructor">TmApp</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">L</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>)<br/>
| <a class="idref" href="Term.html#TmNull"><span class="id" title="constructor">TmNull</span></a> ⇒ <a class="idref" href="Term.html#TmNull"><span class="id" title="constructor">TmNull</span></a><br/>
| <a class="idref" href="Term.html#TmSingle"><span class="id" title="constructor">TmSingle</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Term.html#TmSingle"><span class="id" title="constructor">TmSingle</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span>)<br/>
| <a class="idref" href="Term.html#TmUnion"><span class="id" title="constructor">TmUnion</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Term.html#TmUnion"><span class="id" title="constructor">TmUnion</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">r</span>)<br/>
| <a class="idref" href="Term.html#TmBind"><span class="id" title="constructor">TmBind</span></a> <span class="id" title="var">M</span> <span class="id" title="var">N</span> ⇒ <a class="idref" href="Term.html#TmBind"><span class="id" title="constructor">TmBind</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">N</span>)<br/>
| <a class="idref" href="Term.html#TmIf"><span class="id" title="constructor">TmIf</span></a> <span class="id" title="var">b</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> ⇒ <a class="idref" href="Term.html#TmIf"><span class="id" title="constructor">TmIf</span></a> (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">M</span>) (<a class="idref" href="Shift.html#unshift:15"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="var">N</span>)<br/>
| <a class="idref" href="Term.html#TmTable"><span class="id" title="constructor">TmTable</span></a> <span class="id" title="var">ty</span> ⇒ <a class="idref" href="Term.html#TmTable"><span class="id" title="constructor">TmTable</span></a> <span class="id" title="var">ty</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a>.<br/>
<span class="id" title="keyword">Hint Transparent</span> <a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_var_shift_var" class="idref" href="#unshift_var_shift_var"><span class="id" title="lemma">unshift_var_shift_var</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a> <a id="k:18" class="idref" href="#k:18"><span class="id" title="binder">k</span></a> <a id="n:19" class="idref" href="#n:19"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k:18"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:19"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:18"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:19"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:17"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#x:17"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_shift" class="idref" href="#unshift_shift"><span class="id" title="lemma">unshift_shift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="N:20" class="idref" href="#N:20"><span class="id" title="binder">N</span></a> <a id="k:21" class="idref" href="#k:21"><span class="id" title="binder">k</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:21"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:22"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:21"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#N:20"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#N:20"><span class="id" title="variable">N</span></a>.<br/>

<br/>
</div>

<div class="doc">
(Un)Shifting at De Bruijn index k when k is above the greatest free
    index is a no-op. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_nonfree_noop" class="idref" href="#shift_nonfree_noop"><span class="id" title="lemma">shift_nonfree_noop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a> <a id="M:24" class="idref" href="#M:24"><span class="id" title="binder">M</span></a> <a id="k:25" class="idref" href="#k:25"><span class="id" title="binder">k</span></a> <a id="env:26" class="idref" href="#env:26"><span class="id" title="binder">env</span></a> <a id="T:27" class="idref" href="#T:27"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env:26"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="Shift.html#env:26"><span class="id" title="variable">env</span></a> <a class="idref" href="Shift.html#M:24"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:27"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:24"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#M:24"><span class="id" title="variable">M</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_nonfree_noop" class="idref" href="#unshift_nonfree_noop"><span class="id" title="lemma">unshift_nonfree_noop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a> <a id="M:29" class="idref" href="#M:29"><span class="id" title="binder">M</span></a> <a id="k:30" class="idref" href="#k:30"><span class="id" title="binder">k</span></a> <a id="env:31" class="idref" href="#env:31"><span class="id" title="binder">env</span></a> <a id="T:32" class="idref" href="#T:32"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env:31"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:30"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="Shift.html#env:31"><span class="id" title="variable">env</span></a> <a class="idref" href="Shift.html#M:29"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:32"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:30"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:29"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#M:29"><span class="id" title="variable">M</span></a>.<br/>

<br/>
</div>

<div class="doc">
(Un)Shifting a closed term is a no-op. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_closed_noop" class="idref" href="#shift_closed_noop"><span class="id" title="lemma">shift_closed_noop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a> <a id="M:34" class="idref" href="#M:34"><span class="id" title="binder">M</span></a> <a id="k:35" class="idref" href="#k:35"><span class="id" title="binder">k</span></a> <a id="T:36" class="idref" href="#T:36"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Shift.html#M:34"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:36"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:35"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:34"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#M:34"><span class="id" title="variable">M</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_closed_noop" class="idref" href="#unshift_closed_noop"><span class="id" title="lemma">unshift_closed_noop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a> <a id="M:38" class="idref" href="#M:38"><span class="id" title="binder">M</span></a> <a id="k:39" class="idref" href="#k:39"><span class="id" title="binder">k</span></a> <a id="T:40" class="idref" href="#T:40"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Shift.html#M:38"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:40"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:39"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:37"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:38"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#M:38"><span class="id" title="variable">M</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">shift_closed_noop</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Shift.html#shift_closed_noop"><span class="id" title="lemma">shift_closed_noop</span></a> : <span class="id" title="var">terms</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">shift_nonfree_noop</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Shift.html#shift_nonfree_noop"><span class="id" title="lemma">shift_nonfree_noop</span></a> : <span class="id" title="var">terms</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_var_nth_error" class="idref" href="#shift_var_nth_error"><span class="id" title="lemma">shift_var_nth_error</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> (<a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a>:<a class="idref" href="Shift.html#A:41"><span class="id" title="variable">A</span></a>) <a id="n:43" class="idref" href="#n:43"><span class="id" title="binder">n</span></a> <a id="env2:44" class="idref" href="#env2:44"><span class="id" title="binder">env2</span></a> <a id="env1:45" class="idref" href="#env1:45"><span class="id" title="binder">env1</span></a> <a id="env':46" class="idref" href="#env':46"><span class="id" title="binder">env'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#value"><span class="id" title="definition">value</span></a> <a class="idref" href="Shift.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="Shift.html#env1:45"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env2:44"><span class="id" title="variable">env2</span></a>) <a class="idref" href="Shift.html#n:43"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#value"><span class="id" title="definition">value</span></a> <a class="idref" href="Shift.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="Shift.html#env1:45"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env':46"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env2:44"><span class="id" title="variable">env2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env1:45"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env':46"><span class="id" title="variable">env'</span></a>) <a class="idref" href="Shift.html#n:43"><span class="id" title="variable">n</span></a>).<br/>

<br/>
</div>

<div class="doc">
Shift preserves typing. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_preserves_typing" class="idref" href="#shift_preserves_typing"><span class="id" title="lemma">shift_preserves_typing</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:47" class="idref" href="#M:47"><span class="id" title="binder">M</span></a> <a id="k:48" class="idref" href="#k:48"><span class="id" title="binder">k</span></a> <a id="n:49" class="idref" href="#n:49"><span class="id" title="binder">n</span></a> <a id="env1:50" class="idref" href="#env1:50"><span class="id" title="binder">env1</span></a> <a id="env2:51" class="idref" href="#env2:51"><span class="id" title="binder">env2</span></a> <a id="env:52" class="idref" href="#env:52"><span class="id" title="binder">env</span></a> <a id="env':53" class="idref" href="#env':53"><span class="id" title="binder">env'</span></a> <a id="T:54" class="idref" href="#T:54"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#env1:50"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env2:51"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#env:52"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k:48"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env1:50"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Shift.html#env':53"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="Shift.html#env:52"><span class="id" title="variable">env</span></a> <a class="idref" href="Shift.html#M:47"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:54"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> (<a class="idref" href="Shift.html#env1:50"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env':53"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Shift.html#env2:51"><span class="id" title="variable">env2</span></a>) (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:48"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:47"><span class="id" title="variable">M</span></a>) <a class="idref" href="Shift.html#T:54"><span class="id" title="variable">T</span></a>.<br/>

<br/>
</div>

<div class="doc">
Shifting a term by just one preserves typing. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift1_preserves_typing" class="idref" href="#shift1_preserves_typing"><span class="id" title="lemma">shift1_preserves_typing</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:55" class="idref" href="#M:55"><span class="id" title="binder">M</span></a> <a id="env:56" class="idref" href="#env:56"><span class="id" title="binder">env</span></a> <a id="S:57" class="idref" href="#S:57"><span class="id" title="binder">S</span></a> <a id="T:58" class="idref" href="#T:58"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> <a class="idref" href="Shift.html#env:56"><span class="id" title="variable">env</span></a> <a class="idref" href="Shift.html#M:55"><span class="id" title="variable">M</span></a> <a class="idref" href="Shift.html#T:58"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Term.html#Typing"><span class="id" title="inductive">Typing</span></a> (<a class="idref" href="Shift.html#S:57"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Shift.html#env:56"><span class="id" title="variable">env</span></a>) (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> 0 1 <a class="idref" href="Shift.html#M:55"><span class="id" title="variable">M</span></a>) <a class="idref" href="Shift.html#T:58"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">shift1_preserves_typing</span>.<br/>

<br/>
</div>

<div class="doc">
For a closed list of terms (as indicated when env_typing applies
to the list), shifting by any amount is a noop. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="env_typing_shift_noop" class="idref" href="#env_typing_shift_noop"><span class="id" title="lemma">env_typing_shift_noop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="Vs:59" class="idref" href="#Vs:59"><span class="id" title="binder">Vs</span></a> <a id="env:60" class="idref" href="#env:60"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#env_typing"><span class="id" title="definition">env_typing</span></a> <a class="idref" href="Shift.html#Vs:59"><span class="id" title="variable">Vs</span></a> <a class="idref" href="Shift.html#env:60"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:61" class="idref" href="#n:61"><span class="id" title="binder">n</span></a> <a id="k:62" class="idref" href="#k:62"><span class="id" title="binder">k</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#k:62"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#Vs:59"><span class="id" title="variable">Vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#Vs:59"><span class="id" title="variable">Vs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">env_typing_shift_noop</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Shift.html#env_typing_shift_noop"><span class="id" title="lemma">env_typing_shift_noop</span></a> : <span class="id" title="var">typing</span>.<br/>

<br/>
</div>

<div class="doc">
Applying <span class="inlinecode"><span class="id" title="var">unshift</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> to a variable <i>smaller</i> than <span class="inlinecode"><span class="id" title="var">k</span></span> as no effect. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="unshift_var_lo" class="idref" href="#unshift_var_lo"><span class="id" title="lemma">unshift_var_lo</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:63" class="idref" href="#x:63"><span class="id" title="binder">x</span></a> <a id="k:64" class="idref" href="#k:64"><span class="id" title="binder">k</span></a> <a id="n:65" class="idref" href="#n:65"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Shift.html#k:64"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k:64"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:65"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#x:63"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
Composing one <span class="inlinecode"><span class="id" title="var">shift</span></span> with another, at the same <span class="inlinecode"><span class="id" title="var">k</span></span>, can be
    reduced to a single <span class="inlinecode"><span class="id" title="var">shift</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_shift" class="idref" href="#shift_shift"><span class="id" title="lemma">shift_shift</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> <a id="n':67" class="idref" href="#n':67"><span class="id" title="binder">n'</span></a> <a id="M:68" class="idref" href="#M:68"><span class="id" title="binder">M</span></a> <a id="k:69" class="idref" href="#k:69"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:69"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:66"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:69"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n':67"><span class="id" title="variable">n'</span></a> <a class="idref" href="Shift.html#M:68"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:69"><span class="id" title="variable">k</span></a> (<a class="idref" href="Shift.html#n:66"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n':67"><span class="id" title="variable">n'</span></a>) <a class="idref" href="Shift.html#M:68"><span class="id" title="variable">M</span></a>.<br/>

<br/>
</div>

<div class="doc">
Composing one <span class="inlinecode"><span class="id" title="var">shift</span></span> with another, where the later <span class="inlinecode"><span class="id" title="var">k</span></span> falls in the
    gap created by the earlier <span class="inlinecode"><span class="id" title="var">shift</span></span>, can be reduced to a single <span class="inlinecode"><span class="id" title="var">shift</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_shift'" class="idref" href="#shift_shift'"><span class="id" title="lemma">shift_shift'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="n':71" class="idref" href="#n':71"><span class="id" title="binder">n'</span></a> <a id="M:72" class="idref" href="#M:72"><span class="id" title="binder">M</span></a> <a id="k:73" class="idref" href="#k:73"><span class="id" title="binder">k</span></a> <a id="k':74" class="idref" href="#k':74"><span class="id" title="binder">k'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':74"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:73"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Shift.html#k:73"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k':74"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n':71"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:73"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:70"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':74"><span class="id" title="variable">k'</span></a> <a class="idref" href="Shift.html#n':71"><span class="id" title="variable">n'</span></a> <a class="idref" href="Shift.html#M:72"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':74"><span class="id" title="variable">k'</span></a> (<a class="idref" href="Shift.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n':71"><span class="id" title="variable">n'</span></a>) <a class="idref" href="Shift.html#M:72"><span class="id" title="variable">M</span></a>.<br/>

<br/>
</div>

<div class="doc">
Composing <span class="inlinecode"><span class="id" title="var">unshift</span></span> with <span class="inlinecode"><span class="id" title="var">shift</span></span>, given certain conditions (TODO)
    on the indices, produces the effect of a single <span class="inlinecode"><span class="id" title="var">shift</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fancy_unshift_shift" class="idref" href="#fancy_unshift_shift"><span class="id" title="lemma">fancy_unshift_shift</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:75" class="idref" href="#n:75"><span class="id" title="binder">n</span></a> <a id="M:76" class="idref" href="#M:76"><span class="id" title="binder">M</span></a> <a id="k:77" class="idref" href="#k:77"><span class="id" title="binder">k</span></a> <a id="n':78" class="idref" href="#n':78"><span class="id" title="binder">n'</span></a> <a id="j:79" class="idref" href="#j:79"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k:77"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#j:79"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Shift.html#n':78"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#j:79"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:77"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:77"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:75"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#j:79"><span class="id" title="variable">j</span></a> <a class="idref" href="Shift.html#n':78"><span class="id" title="variable">n'</span></a> <a class="idref" href="Shift.html#M:76"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#j:79"><span class="id" title="variable">j</span></a> (<a class="idref" href="Shift.html#n':78"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Shift.html#n:75"><span class="id" title="variable">n</span></a>) <a class="idref" href="Shift.html#M:76"><span class="id" title="variable">M</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_var_shift_var_commute" class="idref" href="#shift_var_shift_var_commute"><span class="id" title="lemma">shift_var_shift_var_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:80" class="idref" href="#x:80"><span class="id" title="binder">x</span></a> <a id="k:81" class="idref" href="#k:81"><span class="id" title="binder">k</span></a> <a id="k':82" class="idref" href="#k':82"><span class="id" title="binder">k'</span></a> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':82"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:81"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:81"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:83"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k':82"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#x:80"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k':82"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:81"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:80"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
"Shifting by one" commutes with "shifting by <span class="inlinecode"><span class="id" title="var">k</span></span>" for appropriate
   conditions and adjustment of <span class="inlinecode"><span class="id" title="var">k</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="shift_shift_commute" class="idref" href="#shift_shift_commute"><span class="id" title="lemma">shift_shift_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:84" class="idref" href="#M:84"><span class="id" title="binder">M</span></a> <a id="k:85" class="idref" href="#k:85"><span class="id" title="binder">k</span></a> <a id="k':86" class="idref" href="#k':86"><span class="id" title="binder">k'</span></a> <a id="n:87" class="idref" href="#n:87"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':86"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:85"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:85"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:87"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':86"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#M:84"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':86"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:85"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:87"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:84"><span class="id" title="variable">M</span></a>).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.logickit</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_var_S_pred" class="idref" href="#shift_var_S_pred"><span class="id" title="lemma">shift_var_S_pred</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a id="k:89" class="idref" href="#k:89"><span class="id" title="binder">k</span></a> <a id="n:90" class="idref" href="#n:90"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:89"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:90"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:88"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:89"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:90"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <a class="idref" href="Shift.html#x:88"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">Coq.Lists.ListSet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="set_remove" class="idref" href="#set_remove"><span class="id" title="definition">set_remove</span></a> := <span class="id" title="definition">Listkit.Sets.set_remove</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Monomorphism.html#"><span class="id" title="library">Monomorphism</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.Map</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.Sets</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Setoid</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="S_monomorphism" class="idref" href="#S_monomorphism"><span class="id" title="lemma">S_monomorphism</span></a> : (<a class="idref" href="Monomorphism.html#monomorphism"><span class="id" title="definition">monomorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">S_monomorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_in_union_elim" class="idref" href="#not_in_union_elim"><span class="id" title="lemma">not_in_union_elim</span></a>: <span class="id" title="keyword">∀</span> <a id="x:93" class="idref" href="#x:93"><span class="id" title="binder">x</span></a> <a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a> <a id="B:95" class="idref" href="#B:95"><span class="id" title="binder">B</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Shift.html#x:93"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Shift.html#A:94"><span class="id" title="variable">A</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="Shift.html#B:95"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Shift.html#x:93"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Shift.html#A:94"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Shift.html#x:93"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Shift.html#B:95"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_unshift_commute" class="idref" href="#shift_unshift_commute"><span class="id" title="lemma">shift_unshift_commute</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:96" class="idref" href="#M:96"><span class="id" title="binder">M</span></a> <a id="k:97" class="idref" href="#k:97"><span class="id" title="binder">k</span></a> <a id="k':98" class="idref" href="#k':98"><span class="id" title="binder">k'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Shift.html#k':98"><span class="id" title="variable">k'</span></a> (<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> <a class="idref" href="Shift.html#M:96"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':98"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:97"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:97"><span class="id" title="variable">k</span></a> 1 (<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k':98"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#M:96"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k':98"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:97"><span class="id" title="variable">k</span></a>) 1 <a class="idref" href="Shift.html#M:96"><span class="id" title="variable">M</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="freevars_shift" class="idref" href="#freevars_shift"><span class="id" title="lemma">freevars_shift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:99" class="idref" href="#M:99"><span class="id" title="binder">M</span></a> <a id="k:100" class="idref" href="#k:100"><span class="id" title="binder">k</span></a> <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">eq_sets</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:100"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:99"><span class="id" title="variable">M</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">eq_nat_dec</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:100"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:101"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> <a class="idref" href="Shift.html#M:99"><span class="id" title="variable">M</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pred_shift" class="idref" href="#pred_shift"><span class="id" title="lemma">pred_shift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:110" class="idref" href="#x:110"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> 0 1 <a class="idref" href="Shift.html#x:110"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#x:110"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pred_freevars_shift" class="idref" href="#pred_freevars_shift"><span class="id" title="lemma">pred_freevars_shift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:111" class="idref" href="#M:111"><span class="id" title="binder">M</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">eq_sets</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">eq_nat_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> 0 1 <a class="idref" href="Shift.html#M:111"><span class="id" title="variable">M</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> <a class="idref" href="Shift.html#M:111"><span class="id" title="variable">M</span></a>).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Listkit.All</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_var_range" class="idref" href="#shift_var_range"><span class="id" title="lemma">shift_var_range</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:112" class="idref" href="#x:112"><span class="id" title="binder">x</span></a> <a id="k:113" class="idref" href="#k:113"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Shift.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Shift.html#k:113"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Shift.html#k:113"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#x:114"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a> <a class="idref" href="Shift.html#k:113"><span class="id" title="variable">k</span></a> 1 <a class="idref" href="Shift.html#x:112"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_freevars_range" class="idref" href="#shift_freevars_range"><span class="id" title="lemma">shift_freevars_range</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:115" class="idref" href="#M:115"><span class="id" title="binder">M</span></a> <a id="k:116" class="idref" href="#k:116"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">all</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="x:117" class="idref" href="#x:117"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Shift.html#x:117"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Shift.html#k:116"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Shift.html#k:116"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#x:117"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k:116"><span class="id" title="variable">k</span></a> 1 <a class="idref" href="Shift.html#M:115"><span class="id" title="variable">M</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_0_shift_0_1" class="idref" href="#remove_0_shift_0_1"><span class="id" title="lemma">remove_0_shift_0_1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:118" class="idref" href="#x:118"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">eq_sets</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<span class="id" title="definition">set_remove</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">eq_nat_dec</span></a> 0 (<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> 0 1 <a class="idref" href="Shift.html#x:118"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Term.html#freevars"><span class="id" title="definition">freevars</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> 0 1 <a class="idref" href="Shift.html#x:118"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_var_unshift_var_commute" class="idref" href="#unshift_var_unshift_var_commute"><span class="id" title="lemma">unshift_var_unshift_var_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a> <a id="k:120" class="idref" href="#k:120"><span class="id" title="binder">k</span></a> <a id="k':121" class="idref" href="#k':121"><span class="id" title="binder">k'</span></a> <a id="n:122" class="idref" href="#n:122"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':121"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:120"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k:120"><span class="id" title="variable">k</span></a>  <a class="idref" href="Shift.html#n:122"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a>    <a class="idref" href="Shift.html#k':121"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#x:119"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k':121"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:120"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:119"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_unshift_commute" class="idref" href="#unshift_unshift_commute"><span class="id" title="lemma">unshift_unshift_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:123" class="idref" href="#M:123"><span class="id" title="binder">M</span></a> <a id="k:124" class="idref" href="#k:124"><span class="id" title="binder">k</span></a> <a id="k':125" class="idref" href="#k':125"><span class="id" title="binder">k'</span></a> <a id="n:126" class="idref" href="#n:126"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':125"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:124"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:124"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:126"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k':125"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#M:123"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k':125"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:124"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:126"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:123"><span class="id" title="variable">M</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_var_unshift_var_commute" class="idref" href="#shift_var_unshift_var_commute"><span class="id" title="lemma">shift_var_unshift_var_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a> <a id="k:128" class="idref" href="#k:128"><span class="id" title="binder">k</span></a> <a id="k':129" class="idref" href="#k':129"><span class="id" title="binder">k'</span></a> <a id="n:130" class="idref" href="#n:130"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':129"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:128"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:128"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:130"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a>  <a class="idref" href="Shift.html#k':129"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#x:127"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift_var"><span class="id" title="definition">shift_var</span></a>      <a class="idref" href="Shift.html#k':129"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#unshift_var"><span class="id" title="definition">unshift_var</span></a> <a class="idref" href="Shift.html#k:128"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#x:127"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unshift_shift_commute" class="idref" href="#unshift_shift_commute"><span class="id" title="lemma">unshift_shift_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="M:131" class="idref" href="#M:131"><span class="id" title="binder">M</span></a> <a id="k:132" class="idref" href="#k:132"><span class="id" title="binder">k</span></a> <a id="k':133" class="idref" href="#k':133"><span class="id" title="binder">k'</span></a> <a id="n:134" class="idref" href="#n:134"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#k':133"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Shift.html#k:132"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Shift.html#k:132"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#n:134"><span class="id" title="variable">n</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':133"><span class="id" title="variable">k'</span></a> 1 <a class="idref" href="Shift.html#M:131"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#k':133"><span class="id" title="variable">k'</span></a> 1 (<a class="idref" href="Shift.html#unshift"><span class="id" title="definition">unshift</span></a> <a class="idref" href="Shift.html#k:132"><span class="id" title="variable">k</span></a> <a class="idref" href="Shift.html#n:134"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#M:131"><span class="id" title="variable">M</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_closed_noop_map" class="idref" href="#shift_closed_noop_map"><span class="id" title="lemma">shift_closed_noop_map</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a> <a id="k:136" class="idref" href="#k:136"><span class="id" title="binder">k</span></a> <a id="vs:137" class="idref" href="#vs:137"><span class="id" title="binder">vs</span></a> <a id="ts:138" class="idref" href="#ts:138"><span class="id" title="binder">ts</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#env_typing"><span class="id" title="definition">env_typing</span></a> <a class="idref" href="Shift.html#vs:137"><span class="id" title="variable">vs</span></a> <a class="idref" href="Shift.html#ts:138"><span class="id" title="variable">ts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Shift.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Shift.html#n:135"><span class="id" title="variable">n</span></a> <a class="idref" href="Shift.html#k:136"><span class="id" title="variable">k</span></a>) <a class="idref" href="Shift.html#vs:137"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Shift.html#vs:137"><span class="id" title="variable">vs</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>